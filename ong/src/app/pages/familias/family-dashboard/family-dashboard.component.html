<div class="container-fluid">
  <!-- start page title -->
  <div class="row">
    <div class="col-12">
      <div
        class="page-title-box d-flex align-items-center justify-content-between"
      >
        <h4 class="mb-0 font-size-18">Dashboard</h4>
        <div class="page-title-right">
          <ol class="breadcrumb m-0">
            <ng-container>
              <li class="breadcrumb-item">
                <a href="javascript: void(0);">...</a>
              </li>
              <li class="breadcrumb-item active">Dashboard</li>
            </ng-container>
          </ol>
        </div>
      </div>
    </div>
    <div class="col-12">
      <div class="row">
        <div class="col-4">
          <div class="row">
            <div class="col">
              <div class="card">
                <div class="card-body">
                  <div class="row">
                    <div class="col-sm-6">
                      <h4 class="card-title mb-4">Familias</h4>
                      <p class="text-muted mb-2">Cadastradas</p>
                      <h3>124</h3>
                    </div>
                    <div class="col-sm-6"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-8">
          <div class="row">
            <div class="card">
              <div class="card-body">
                <div
                  class="d-flex flex-row gap-2 col align-items-center w-100 mb-2"
                >
                  <div class="col-lg-3 position-relative">
                    <label
                      class="bx bx-search-alt position-absolute d-flex align-items-center"
                      style="top: 50%; transform: translateY(-50%); left: 5%"
                      for="searchDoacaoList"
                    ></label>
                    <input
                      type="search"
                      class="form-control ps-4 text-truncate"
                      id="searchDoacaoList"
                      placeholder="Pesquisar..."
                      [(ngModel)]="this.txtSearch"
                    />
                  </div>
                </div>
                <!-- Table data -->
                <div class="table-responsive mb-0">
                  <table
                    class="table align-middle table-nowrap dt-responsive nowrap w-100 table-check position-relative"
                    id="order-list"
                  >
                    <thead
                      *ngIf="
                        this.familias.length > 0 && this.isLoadingList === false
                      "
                      class="table-light"
                    >
                      <tr>
                        <th style="width: 20px">
                          <div class="form-check font-size-16 align-middle">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              id="transactionCheck01"
                              [(ngModel)]="masterSelected"
                              (change)="checkUncheckAll($event)"
                            />
                            <label
                              class="form-check-label"
                              for="transactionCheck01"
                            ></label>
                          </div>
                        </th>
                        <th class="align-middle">ID</th>
                        <th class="align-middle">Nome Responsável</th>
                        <th class="align-middle">CPF Responsável</th>
                        <th class="align-middle">Ações</th>
                      </tr>
                    </thead>
                    <tbody class="position-relative">
                      <tr
                        *ngFor="
                          let data of familias
                            | paginate
                              : {
                                  itemsPerPage: itemsPerPage,
                                  currentPage: currentPage
                                };
                          let i = index
                        "
                        id="o_{{ data.id }}"
                      >
                        <td>
                          <div class="form-check font-size-16">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              id="transactionCheck{{ data.index }}"
                              value="{{ data.id }}"
                              [(ngModel)]="data.marked"
                            />
                            <label
                              class="form-check-label"
                              for="transactionCheck{{ data.index }}"
                            ></label>
                          </div>
                        </td>
                        <td>
                          <a
                            href="javascript: void(0);"
                            class="text-body fw-bold"
                            >#FML{{ data.id }}</a
                          >
                        </td>
                        <td>{{ data.nome_responsavel }}</td>
                        <td>
                          <input
                            type="text"
                            class="form-control p-0"
                            [mask]="'000.000.000-00'"
                            [(ngModel)]="data.cpf_responsavel"
                            maskSpecialCharacters="true"
                            style="
                              border: none;
                              background-color: transparent;
                              outline: none;
                            "
                          />
                        </td>
                        <td>
                          <div class="d-flex gap-3">
                            <a
                              href="javascript:void(0);"
                              class="text-black align-middle"
                              ngbTooltip="Ver detalhes"
                              [routerLink]="['/ong-conforme/historico-single']"
                              [queryParams]="{ id: data.doacao_id }"
                            >
                              <span
                                class="mdi mdi-text-search font-size-18"
                              ></span>
                            </a>
                            <a
                              href="javascript:void(0);"
                              class="text-success"
                              ngbTooltip="Editar"
                              (click)="editModal(data.id)"
                              ><i class="mdi mdi-pencil font-size-18"></i
                            ></a>
                            <a
                              href="javascript:void(0);"
                              class="text-danger align-middle"
                              ngbTooltip="Deletar"
                              (click)="confirmDelete(data.id)"
                              ><i class="mdi mdi-delete font-size-18"></i
                            ></a>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                    <tbody *ngIf="isLoadingList">
                      <tr *ngFor="let _ of [1, 2, 3, 4, 5, 6, 7]">
                        <td>
                          <ngx-skeleton-loader
                            animation="pulse"
                            [theme]="{ width: '16px', height: '16px' }"
                          />
                        </td>
                        <td>
                          <ngx-skeleton-loader animation="pulse" />
                        </td>
                        <td><ngx-skeleton-loader animation="pulse" /></td>
                        <td><ngx-skeleton-loader animation="pulse" /></td>
                        <td><ngx-skeleton-loader animation="pulse" /></td>
                        <td><ngx-skeleton-loader animation="pulse" /></td>
                        <td>
                          <ngx-skeleton-loader
                            animation="pulse"
                            [theme]="{ width: '70px' }"
                          />
                        </td>
                        <td>
                          <ngx-skeleton-loader
                            animation="pulse"
                            [theme]="{ width: '50px' }"
                          />
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div
                    *ngIf="
                      this.familias.length > 0 && this.isLoadingList === false
                    "
                    class="pagination-container d-flex justify-content-end"
                  >
                    <pagination-controls
                      (pageChange)="pageChanged($event)"
                      (pageBoundsCorrection)="pageChanged($event)"
                      maxSize="5"
                      directionLinks="true"
                      responsive="true"
                      previousLabel="Anterior"
                      nextLabel="Prox"
                      autoHide="true"
                    >
                    </pagination-controls>
                  </div>
                </div>
                <div
                  *ngIf="
                    this.familias.length <= 0 && this.isLoadingList === false
                  "
                  class="d-flex flex-row justify-content-center align-items-center gap-5 py-3"
                >
                  <h2
                    class="d-flex justify-content-end text-dark fw-semibold col-6 text-start"
                  >
                    NENHUMA FAMILIA <br />
                    FOI CADASTRADA!
                  </h2>

                  <div class="d-flex justify-content-start col-6">
                    <img
                      src="assets/images/add-item.svg"
                      alt="add-item img"
                      height="200px"
                    />
                  </div>
                </div>
                <!-- end table -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- end page title -->
</div>
<!-- container-fluid -->
